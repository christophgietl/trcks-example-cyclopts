[build-system]
build-backend = "flit_core.buildapi"
requires = ["flit_core~=3.11"] # flit_core 3.11 supports project.license-files.

[dependency-groups]
dev = [
    "pre-commit==4.5.1",
    "pyright[nodejs]==1.1.408",
    "pytest==9.0.2",
    "pytest-cov==7.0.0",
    "trcks[pyright]", # check project.dependencies for version
]

[project]
dependencies = [
    "cyclopts==4.6.0",
    "trcks==0.4.2",
]
description = "Example CLI application that uses the trcks library for type-safe railway-oriented programming in Python ðŸš‚ðŸ"
license = "MIT"
license-files = ["LICEN[CS]E*"]
name = "trcks-example-cyclopts"
requires-python = "~=3.14.0"
version = "1.2.3"

[project.scripts]
rtw = "trcks_example_cyclopts.user_interface:app"

[tool.pyright]
deprecateTypingAliases = true
reportCallInDefaultInitializer = true
reportImplicitOverride = true
reportImplicitStringConcatenation = true
reportImportCycles = true
reportMissingSuperCall = true
reportPropertyTypeMismatch = true
reportUninitializedInstanceVariable = true
reportUnnecessaryTypeIgnoreComment = true
reportUnusedCallResult = true
typeCheckingMode = "strict"

[tool.pytest.ini_options]
addopts = "--cov=trcks_example_cyclopts --cov-fail-under=100 --cov-report=term-missing"

[tool.ruff.lint]
ignore = [
    "COM812", # "may cause conflicts when used with the formatter"
    "D",
]
select = ["ALL"]

[tool.ruff.lint.flake8-type-checking]
runtime-evaluated-decorators = ["cyclopts.App.default"]

[tool.ruff.lint.per-file-ignores]
"tests/*" = ["S101"]

[tool.ruff.lint.pydocstyle]
convention = "google"

[tool.uv]
add-bounds = "exact"
required-version = ">=0.9, <0.11"   # Dependabot seems to use uv 0.9 (as of February 2026).
